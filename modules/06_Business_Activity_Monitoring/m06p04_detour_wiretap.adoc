:noaudio:

[#detour-wiretap]
== Detour Wiretap

* Goal of the Detour/Wiretap : route information to another destination
* Can be implemented using WireTap EIP Pattern in FireForget mode
* Message copied or new created
+
.WireTap Example
[source]
----
 from("direct:start")
     .to("log:foo")
     .wireTap("seda:tap")
     .bean(MyBean.class)
     .to("mock:result");

 from("seda:tap")
     .to("mock:tap");
----
* Using a Condition to detour the traffic
+
.Detour Example
[source]
----
from("direct:start")
.choice()
  .when().method("control", "isDetour")
     .to("mock:detour").end()
  .to("mock:result");
----

ifdef::showscript[]
[.notes]
****

== Detour Wiretap

.

****
endif::showscript[]